<div class="container py-5 d-flex flex-column align-items-center justify-content-center" style="min-height:60vh;">
  <div class="bg-white rounded shadow p-4" style="max-width:400px;width:100%;">
    <h1 class="h4 fw-bold mb-4 text-success">Регистрация</h1>
    <% if (error) { %>
      <!-- alert удалён, toast показывается через layout.ejs -->
    <% } %>
    <form method="post">
      <div class="mb-3">
        <label class="form-label">Имя</label>
        <input type="text" name="name" required class="form-control form-control-lg">
      </div>
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email" name="email" required class="form-control form-control-lg">
      </div>
      <div class="mb-3">
        <label class="form-label">Пароль</label>
        <input type="password" name="password" id="regPassword" class="form-control" required minlength="6" pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$" autocomplete="new-password">
        <div class="form-text" id="regPasswordHelp">
          Минимум 6 символов, хотя бы одна латинская буква и одна цифра
        </div>
      </div>
      <script>
        document.getElementById('regPassword').addEventListener('input', function() {
          const val = this.value;
          let msg = '';
          if (val.length < 6) msg += 'Минимум 6 символов. ';
          if (!/[A-Za-z]/.test(val)) msg += 'Хотя бы одна латинская буква. ';
          if (!/\d/.test(val)) msg += 'Хотя бы одна цифра. ';
          document.getElementById('regPasswordHelp').textContent = msg || 'Пароль подходит!';
          document.getElementById('regPasswordHelp').className = msg ? 'form-text text-danger' : 'form-text text-success';
        });
      </script>
      <button type="submit" class="btn btn-success btn-lg w-100">Зарегистрироваться</button>
    </form>
    <div class="mt-3 text-center text-muted">Уже есть аккаунт? <a href="/login" class="text-success text-decoration-underline">Войти</a></div>
  </div>
</div> 